{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const searchForm = document.querySelector(\"#searchForm\");\n  const galleryContainer = document.querySelector(\".gallery\");\n  const lightbox = new SimpleLightbox(\".gallery a\");\n\n  searchForm.addEventListener(\"submit\", handleFormSubmit);\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n\n    const searchQuery = document.querySelector(\"#searchQuery\").value;\n    if (!searchQuery.trim()) {\n      iziToast.error({\n        title: \"Error\",\n        message: \"Please enter a search query.\",\n      });\n      return;\n    }\n\n    fetchImages(searchQuery);\n  }\n\n  function fetchImages(searchQuery) {\n    const apiKey = `41927432-a4c56e3ebe36f8f9b7d51fc62`;\n    const perPage = 15;\n    const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPage}`;\n\n    iziToast.info({\n      title: \"Loading\",\n      message: \"Fetching images...\",\n    });\n\n    fetch(apiUrl)\n      .then(response => response.json())\n      .then(data => {\n        renderImages(data.hits);\n      })\n      .catch(error => {\n        console.error(\"Error fetching data:\", error);\n        iziToast.error({\n          title: \"Error\",\n          message: \"Failed to fetch images. Please try again.\",\n        });\n      });\n  }\n\n  function renderImages(images) {\n    galleryContainer.innerHTML = \"\";\n\n    if (images.length === 0) {\n      iziToast.warning({\n        title: \"No Results\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n      });\n      return;\n    }\n\n    images.forEach(image => {\n     const imageCard = createImageCard(image);\n     galleryContainer.appendChild(imageCard);\n    });\n\n    lightbox.refresh(); \n      \n    \n  }\n});\n\nfunction createImageCard(image) {\n  const card = document.createElement('div');\n  card.className = 'image-card';\n\n  const link = document.createElement('a');\n  link.href = image.largeImageURL; \n  link.setAttribute('data-lightbox', 'gallery');\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n\n  link.appendChild(img);\n  card.appendChild(link);\n\n  const likes = document.createElement('span');\n  likes.textContent = `Likes: ${image.likes}`;\n\n  const views = document.createElement('span');\n  views.textContent = `Views: ${image.views}`;\n\n  card.appendChild(likes);\n  card.appendChild(views);\n\n  return card;\n}"],"names":["searchForm","galleryContainer","lightbox","SimpleLightbox","handleFormSubmit","event","searchQuery","iziToast","fetchImages","apiUrl","response","data","renderImages","error","images","image","imageCard","createImageCard","card","link","img","likes","views"],"mappings":"6vBAMA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAW,IAAIC,EAAe,YAAY,EAEhDH,EAAW,iBAAiB,SAAUI,CAAgB,EAEtD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAc,SAAS,cAAc,cAAc,EAAE,MAC3D,GAAI,CAACA,EAAY,OAAQ,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACjB,CAAO,EACD,MACD,CAEDC,EAAYF,CAAW,CACxB,CAED,SAASE,EAAYF,EAAa,CAGhC,MAAMG,EAAS,qEAA4CH,sEAAgF,KAE3IC,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,oBACf,CAAK,EAED,MAAME,CAAM,EACT,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZC,EAAaD,EAAK,IAAI,CAC9B,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CN,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2CACnB,CAAS,CACT,CAAO,CACJ,CAED,SAASK,EAAaE,EAAQ,CAG5B,GAFAb,EAAiB,UAAY,GAEzBa,EAAO,SAAW,EAAG,CACvBP,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACjB,CAAO,EACD,MACD,CAEDO,EAAO,QAAQC,GAAS,CACvB,MAAMC,EAAYC,EAAgBF,CAAK,EACvCd,EAAiB,YAAYe,CAAS,CAC3C,CAAK,EAEDd,EAAS,QAAO,CAGjB,CACH,CAAC,EAED,SAASe,EAAgBF,EAAO,CAC9B,MAAMG,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,aAEjB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOJ,EAAM,cAClBI,EAAK,aAAa,gBAAiB,SAAS,EAE5C,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAML,EAAM,aAChBK,EAAI,IAAML,EAAM,KAEhBI,EAAK,YAAYC,CAAG,EACpBF,EAAK,YAAYC,CAAI,EAErB,MAAME,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,YAAc,UAAUN,EAAM,QAEpC,MAAMO,EAAQ,SAAS,cAAc,MAAM,EAC3C,OAAAA,EAAM,YAAc,UAAUP,EAAM,QAEpCG,EAAK,YAAYG,CAAK,EACtBH,EAAK,YAAYI,CAAK,EAEfJ,CACT"}