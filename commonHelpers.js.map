{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.esm\"\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const searchForm = document.querySelector(\"#searchForm\");\n  const galleryContainer = document.querySelector(\"gallery\");\n\n  searchForm.addEventListener(\"submit\", handleFormSubmit);\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n\n    const searchQuery = document.querySelector(\"#searchQuery\").value;\n    if (!searchQuery.trim()) {\n      iziToast.error({\n        title: \"Error\",\n        message: \"Please enter a search query.\",\n      });\n      return;\n    }\n\n    fetchImages(searchQuery);\n  }\n\n  function fetchImages(searchQuery) {\n    const apiKey =  \"41927432-a4c56e3ebe36f8f9b7d51fc62\"  ;\n    const apiUrl = 'https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true';\n\n    iziToast.info({\n      title: \"Loading\",\n      message: \"Fetching images...\",\n    });\n\n    fetch(apiUrl)\n      .then(response => response.json())\n      .then(data => {\n        renderImages(data.hits);\n      })\n      .catch(error => {\n        console.error(\"Error fetching data:\", error);\n        iziToast.error({\n          title: \"Error\",\n          message: \"Failed to fetch images. Please try again.\",\n        });\n      });\n  }\n\n  function renderImages(images) {\n    galleryContainer.innerHTML = \"\";\n\n    if (images.length === 0) {\n      iziToast.warning({\n        title: \"No Results\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n      });\n      return;\n    }\n\n\n    images.forEach(image => {\n      const imageElement = document.createElement(\"img\");\n      imageElement.src = image.webformatURL;\n      imageElement.alt = image.tags;\n\n      galleryContainer.appendChild(imageElement);\n    });\n\n    const lightbox = new SimpleLightbox(\".gallery a\");\n    lightbox.refresh(); \n  }\n});\n\n"],"names":["searchForm","galleryContainer","handleFormSubmit","event","iziToast","fetchImages","searchQuery","apiUrl","response","data","renderImages","error","images","image","imageElement","SimpleLightbox"],"mappings":"6vBAMA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAmB,SAAS,cAAc,SAAS,EAEzDD,EAAW,iBAAiB,SAAUE,CAAgB,EAEtD,SAASA,EAAiBC,EAAO,CAI/B,GAHAA,EAAM,eAAc,EAGhB,CADgB,SAAS,cAAc,cAAc,EAAE,MAC1C,OAAQ,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACjB,CAAO,EACD,MACD,CAEDC,EAAuB,CACxB,CAED,SAASA,EAAYC,EAAa,CAEhC,MAAMC,EAAS,kHAEfH,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,oBACf,CAAK,EAED,MAAMG,CAAM,EACT,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZC,EAAaD,EAAK,IAAI,CAC9B,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CP,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2CACnB,CAAS,CACT,CAAO,CACJ,CAED,SAASM,EAAaE,EAAQ,CAG5B,GAFAX,EAAiB,UAAY,GAEzBW,EAAO,SAAW,EAAG,CACvBR,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACjB,CAAO,EACD,MACD,CAGDQ,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,IAAMD,EAAM,aACzBC,EAAa,IAAMD,EAAM,KAEzBZ,EAAiB,YAAYa,CAAY,CAC/C,CAAK,EAEgB,IAAIC,EAAe,YAAY,EACvC,QAAO,CACjB,CACH,CAAC"}